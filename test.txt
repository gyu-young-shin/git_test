hello ..

파일은 결국 바이너리 파일이라 읽고 쓰기 위해서는 인코딩 과정이 필요하다

그래서 파일을 주고 받을 때도 인코딩을 해서 파일에 쓰고 다시 디코딩 해서 읽어야 한다

 

파일 전송 과정-서버 측

1. 클라이언트가 파일을 요청한다. 이 때 파일 이름은 이진 바이트 스트림 데이터 형태로 온다

2. 파일 이름을 일반 문자열로 변환한다

3. open으로 해당 파일을 연다

4. read로 파일을 1024바이트 읽는다

5. 파일이 빈 문자열일 때까지 계속 1024바이트씩 읽고 전송한다(각 라인을 읽어서 리턴해야 하기 때문에 끊어서)

 

파일 수신 과정-클라이언트 측

1. 서버에 파일을 요청한다

2. 서버가 파일을 1024바이트씩 보내기 시작한다

3. 데이터가 없을 때까지 write로 1024바이트씩 써서 원하는 폴더+파일 이름으로 파일을 만든다